@namespace FeedbackWebApp.Components.ContentFeed.Forms

<div class="hackernews-feed-form">
    <div class="form-floating">
        <input type="text" class="form-control" id="keywords" placeholder="Keywords" 
               @bind="@KeywordsInput" @bind:event="oninput" />
        <label for="keywords">Keywords</label>
        <div class="form-text">Enter keywords to search for (comma-separated)</div>
    </div>
</div>

@code {
    private string _keywordsInput = "";

    public string KeywordsInput
    {
        get => _keywordsInput;
        set
        {
            if (_keywordsInput != value)
            {
                _keywordsInput = value;
                Keywords = value.Split(',', StringSplitOptions.RemoveEmptyEntries | StringSplitOptions.TrimEntries)
                    .Where(k => !string.IsNullOrWhiteSpace(k))
                    .ToArray();
            }
        }
    }

    public string[] Keywords { get; private set; } = Array.Empty<string>();
}